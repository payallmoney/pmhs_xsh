<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="expires" content="0">
    <script src="../js/lib/q.js"></script>
    <script src="../js/lib/jquery-2.1.3.min.js"></script>
    <script src="../js/lib/jqueryui/jquery-ui.js"></script>
    <script src="../js/lib/highchart/highcharts.js"></script>
    <script src="../js/lib/highchart/highcharts-3d.js"></script>
    <script src="../js/lib/bootstrap/js/bootstrap.min.js"></script>
    <link href="../js/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
    <link href="../js/lib/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen"/>
</head>
<body>
<div class="container">
    <div class="row">
        <div id="pie-0-1" class="span4" style="height:200px">

        </div>
        <div id="pie-0-2" class="span4" style="height:200px">

        </div>
        <div id="pie-0-3" class="span4" style="height:200px">

        </div>
        <div id="line-1-1" class="span12" style="height:200px">

        </div>
        <div id="pie-1-2" class="span6" style="height:200px">

        </div>
    </div>
</div>
<script>
    $(function () {
        createpie('pie-0-1', '本月完成情况', [
            ['已完成', 77],
            ['未完成', 53]
        ], '{point.name}{percentage:.0f}%');
        createpie('pie-0-2', '上周完成情况', [
            ['已完成', 10],
            ['未完成', 0]
        ], '{point.name}{percentage:.0f}%');
        createpie('pie-0-3', '今日完成情况', [
            ['已完成', 2],
            ['未完成', 3]
        ], '{point.name}{percentage:.0f}%');
        createline('line-1-1');
    });
    function createpie(id, piename, data, fomarter) {
        new Highcharts.Chart({
            chart: {
                renderTo: id,
                type: 'pie',
                options3d: {
                    enabled: true,
                    alpha: 45,
                    beta: 0
                }
            },
            tooltip: {
                pointFormat: '<span style="color:{series.color}">\u25CF</span>  <b>{point.y}项</b><br/>'
            },
            colors: ['#008000', '#ff0000', '#2f7ed8', '#0d233a', '#8bbc21', '#910000', '#1aadce', '#492970', '#f28f43', '#77a1e5', '#c42525', '#a6c96a'],
            title: {
                text: piename
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    depth: 35,
                    dataLabels: {
                        enabled: true,
                        distance: 10,
                        format: fomarter
                    }
                }
            },
            series: [
                {
                    type: 'pie',
                    name: piename,
                    data: data
                }
            ]
        });
    }

    function createline(id, piename, data, fomarter) {
        new Highcharts.Chart({
            chart: {
                renderTo: id,
                type: 'line'
            },
            title: {
                text: '本月任务完成情况',
                x: -20 //center
            },
            xAxis: {
                categories: ['1日', '2日', '3日', '4日', '5日', '6日',
                    '7日', '8日', '9日', '10日', '11日', '12日']
            },
            yAxis: {
                title: {
                    text: '任务数'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '项'
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: '已完成',
                data: [5, 6, 4, 3, 7, 2, 8, 1, 9, 3, 4, 5]
            }, {
                name: '未完成',
                data: [2, 7, 3, 3, 7, 5, 2, 5, 4, 2, 8, 7]
            }]
        });
    }
</script>
</body>
</html>