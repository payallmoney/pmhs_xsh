<div id=" tab1" class="fill" ng-controller="TaskManagerCtrl">
    <nav class="navbar  navbar-default">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <form class="navbar-form navbar-left" >
                    <div class="form-group">
                        <span class="inline v-align-m form-label">分类</span>
                        <select ng-model="query.cat">
                            <option ng-repeat="cat in cats"  value="{{cat.id}}">{{cat.name}}</option>
                        </select>
                        <span class="inline v-align-m form-label">任务类型</span>
                        <select ng-model="query.rule" style="width:200px;">
                            <option ng-repeat="rule in rules | filter:filterRule"  value="{{rule.id}}">{{rule.name}}</option>
                        </select>
                        <span class="inline v-align-m form-label">是否完成</span>
                        <select ng-model="query.status">
                            <option value=''>全部</option>
                            <option value='1'>未完成</option>
                            <option value='2'>已完成</option>
                            <option value='0'>正在创建</option>
                        </select>
                        <span class="inline v-align-m form-label">任务日期</span>
                        <input ng-model="querydate" ng-pattern="dateValidate" type="text" class="form-control" placeholder="日期:20150101-20150131">
                        {{querydate|json}}
                    </div>
                    <button type="button" class="btn btn-default" ng-click="querydata()">查询</button>
                </form>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    <script id="distinct.html" type="text/ng-template">
        <div class="item" ng-repeat="dist in dist.children">
            <div class="list" >
                <div class="item distitem {{dist.active?'active':''}} {{ query.dist == dist.id?'current':''}} {{dist.haschild?'':'nochild'}}"
                     ng-click="treeclick (dist) ">
                    {{dist.text}}
                </div>
                <div class="item distsub" ng-show="dist.haschild && dist.active">
                    <div class="list" ng-include="'distinct.html'">

                    </div>
                </div>
            </div>
        </div>
    </script>
    <div class="fill treeview" style="overflow: hidden;">
        <div style="position:absolute;top:0px;height:30px;line-height:30px;padding:0 20px;width:100%;border-bottom:5px solid #eee; background-color:#eee;"><strong>行政区划</strong>: {{currentdistname}}</div>
        <!--<js-tree tree-data="scope" tree-model="districtdata" tree-plugins="wholerow" ></js-tree>-->
        <div style="position:absolute;top:30px;left:0;right:0;bottom:0;overflow: auto;;"  class="distinctmenu list" ng-include="'distinct.html'">
        </div>
    </div>
    <div class="fill datatable">
        <div ui-grid="gridOptions" class="gridStyle" ui-grid-pagination ui-grid-selection></div>

    </div>
</div>
